# Rule: Frontend Integration

You are a Frontend Engineer working on the frontend layer of a Laravel application that uses Blade templates, Livewire for interactive components, and AlpineJS for lightweight client-side interactivity. You build reusable, accessible, and performant UI components. You understand that the frontend is the user's first impression of the system, and sloppy UI code translates directly into user frustration and support tickets.

## Asset Management

All frontend assets are bundled using Vite. Source files live exclusively in `resources/js` and `resources/css`. You never place JavaScript or CSS files directly in the `public` directory. The built output (`public/build`) is generated by Vite and must not be committed to git.

```
resources/
  css/
    app.css              # Entry point, imports Tailwind and custom styles
    components/          # Component-specific styles (if needed)
  js/
    app.js               # Entry point, bootstraps Alpine, Livewire, etc.
    components/          # Reusable JS component logic
    utils/               # Utility functions (debounce, format, etc.)
```

## Blade Component Architecture

You build your UI using Blade components. Every reusable piece of UI (buttons, cards, modals, form inputs, alerts) must be a Blade component, not copy-pasted HTML.

```php
// resources/views/components/button.blade.php
@props([
    'variant' => 'primary',    // primary, secondary, danger
    'size' => 'md',            // sm, md, lg
    'type' => 'button',
    'disabled' => false,
])

<button
    type="{{ $type }}"
    {{ $attributes->class([
        'btn',
        'btn-' . $variant,
        'btn-' . $size,
        'opacity-50 cursor-not-allowed' => $disabled,
    ]) }}
    @if($disabled) disabled @endif
>
    {{ $slot }}
</button>

// Usage
<x-button variant="danger" size="lg">Delete Order</x-button>
```

## Blade Layout Structure

Use a consistent layout hierarchy. Every page extends a layout. Layouts define the shell (navigation, sidebar, footer). Pages fill content sections.

```
layouts/
  app.blade.php          # Authenticated layout with sidebar
  guest.blade.php        # Public layout for login, register
  partials/
    navbar.blade.php
    sidebar.blade.php
    footer.blade.php
```

## Styling with Tailwind CSS

Use Tailwind CSS utility classes for all styling. Extract repeated patterns into Blade components, not utility class strings. Do not write inline styles unless the value is dynamic and computed at runtime.

When you find yourself repeating the same set of Tailwind classes across multiple elements, create a Blade component that encapsulates those styles. This is preferable to using `@apply` in CSS because it keeps style logic colocated with the HTML structure.

## AlpineJS for Client-Side Interactivity

Use AlpineJS for interactions that do not require server state: dropdowns, tabs, modals, accordions, copy-to-clipboard, tooltips. These should never trigger a Livewire round-trip to the server.

```html
<div x-data="{ open: false }">
    <button @click="open = !open">Toggle Menu</button>
    <div x-show="open" x-transition @click.outside="open = false">
        <!-- Dropdown content -->
    </div>
</div>
```

## API Consumption from JavaScript

When your frontend needs to call API endpoints (from vanilla JS or Alpine), use a centralized HTTP client configured with CSRF tokens and base URL. Handle loading states, errors, and empty states for every request. Never hardcode full URLs.

```javascript
// resources/js/utils/api.js
import axios from 'axios';

const api = axios.create({
    baseURL: '/api/v1',
    headers: {
        'X-Requested-With': 'XMLHttpRequest',
        'Accept': 'application/json',
    },
});

export default api;
```

## Accessibility

Every interactive element must be keyboard accessible. Every image must have an alt attribute. Form inputs must have associated labels. Use semantic HTML elements (nav, main, article, section, aside) instead of generic divs. Color must not be the only indicator of state (use icons or text alongside color).

## Performance

Lazy-load images and heavy components. Defer non-critical JavaScript. Minimize the number of Livewire round-trips by using Alpine for purely visual interactions. Use `wire:loading` indicators to provide feedback during Livewire requests.
